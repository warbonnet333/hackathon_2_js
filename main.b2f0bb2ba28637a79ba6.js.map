{"version":3,"sources":["webpack:///./js/templates/single-film.hbs","webpack:///./handelbars/watched-page.hbs","webpack:///./templates/main-page.hbs","webpack:///./services/server.js","webpack:///./js/scrollToTop.js","webpack:///./js/scrollTop.js","webpack:///./js/mapper.js","webpack:///./js/services/server.js","webpack:///./js/server.js","webpack:///./js/watched.js","webpack:///./js/inner_page.js","webpack:///./js/mainPage.js","webpack:///./js/preloader.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","id","call","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","backdrop_path","img_path","axios","defaults","baseURL","KEY","scrollToTop","window","scrollTo","top","behavior","scrollTopButton","document","querySelector","documentElement","scrollHeight","scrollTop","clientHeight","addEventListener","classList","add","remove","mapper","items","map","list","toggleWatched","event","console","log","target","dir","textContent","contains","upperFnToRemove","upperFnToAdd","localListName","dataset","action","filmId","Number","addToWatched","notifyAction","arrayToWork","filmIdToAdd","url","filmsToWatched","JSON","parse","localStorage","getItem","get","then","find","filmTOWatch","push","setItem","stringify","lowerFnToRemove","filmIdToDelete","localList","film","arrayToLocal","filter","showWatchedFilms","refs","listWatch","innerHTML","filmPage","listArticle","searchInput","paginationBox","searchBar","filmsArray","insertAdjacentHTML","filmItem","watchedFilmsMarkup","join","libraryName","PNotify","success","text","animation","delay","stack","dir1","dir2","firstpos1","firstpos2","Mobile","swipeDismiss","styling","getFullInfo","currentTarget","result","filmData","item","markup","insertMarkup","reduce","genreString","genre","index","array","wordSeparator","length","name","filmTemplate","articleList","buttonNext","buttonPrev","paginationBoxInfo","warningBox","homeBtn","libraryBtn","navBtns","watcheBtn","queueBtn","fetchArticlesCall","page","fetchArticles","API","createMarkup","catch","err","results","article","mainArticleTemplate","handleChangePage","e","preventDefault","printWarning","debounce","query","value","p","createElement","body","insertBefore","firstChild","onload","t","Date","getTime","before","getElementById","setTimeout","className","removeEventListener","arguments","callee","domReady","attachEvent","readyState","detachEvent"],"mappings":"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","file":"main.b2f0bb2ba28637a79ba6.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<section class=\\\"single-page\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":38},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"\\\">\\r\\n  <div class=\\\"poster-wrapper\\\">\\r\\n    <img src=\\\"https://image.tmdb.org/t/p/w400/\"\n    + alias4(((helper = (helper = helpers.poster_path || (depth0 != null ? depth0.poster_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":46},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\" width=\\\"270\\\">\\r\\n  </div>\\r\\n  <div class=\\\"description-wrapper\\\">\\r\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":27},\"end\":{\"line\":6,\"column\":36}}}) : helper)))\n    + \"</h2>\\r\\n    <div class=\\\"vote-wrapper\\\">\\r\\n      <span class=\\\"titles vote-titles\\\">vote / votes: </span> <span class=\\\"votes-numbers\\\">\"\n    + alias4(((helper = (helper = helpers.vote_average || (depth0 != null ? depth0.vote_average : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":89},\"end\":{\"line\":8,\"column\":105}}}) : helper)))\n    + \" /\\r\\n        \"\n    + alias4(((helper = (helper = helpers.vote_count || (depth0 != null ? depth0.vote_count : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":22}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n    <div class=\\\"popularity-wrapper\\\">\\r\\n      <span class=\\\"titles film-popularity\\\">popularity: </span> <span class=\\\"popularity-score\\\">\"\n    + alias4(((helper = (helper = helpers.popularity || (depth0 != null ? depth0.popularity : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":94},\"end\":{\"line\":12,\"column\":108}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"original-film-wrapper\\\">\\r\\n      <span class=\\\"titles original-film-titles\\\">original title: </span> <span\\r\\n        class=\\\"original-film-name\\\">\"\n    + alias4(((helper = (helper = helpers.original_title || (depth0 != null ? depth0.original_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":53}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"film-genre-wrapper\\\">\\r\\n      <span class=\\\"titles film-genre\\\">genre: </span> <span class=\\\"genre-list\\\">\"\n    + alias4(((helper = (helper = helpers.genres || (depth0 != null ? depth0.genres : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":78},\"end\":{\"line\":21,\"column\":88}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n\\r\\n    <h3>About</h3>\\r\\n    <p class=\\\"film-description\\\">\"\n    + alias4(((helper = (helper = helpers.overview || (depth0 != null ? depth0.overview : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":32},\"end\":{\"line\":25,\"column\":44}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"button-wrapper\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"video-icon button-icon\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":68},\"end\":{\"line\":27,\"column\":74}}}) : helper)))\n    + \"\\\" data-action=\\\"watched-films\\\">Add to\\r\\n        library</button>\\r\\n    </div>\\r\\n</section>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\r\\n<li class=\\\"films-list__item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":38},\"end\":{\"line\":10,\"column\":44}}}) : helper)))\n    + \" data-name=\\\"\\\"\\\">\\r\\n  <img class=\\\"article-image\\\" src=\\\"https://image.tmdb.org/t/p/w400/\"\n    + alias4(((helper = (helper = helpers.backdrop_path || (depth0 != null ? depth0.backdrop_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":66},\"end\":{\"line\":11,\"column\":83}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\">\\r\\n  <div>\\r\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":27},\"end\":{\"line\":13,\"column\":36}}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n  <div class=\\\"inner\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":30},\"end\":{\"line\":15,\"column\":36}}}) : helper)))\n    + \"\\\"></div>\\r\\n  <div class=\\\" vote\\\">\"\n    + alias4(((helper = (helper = helpers.vote_average || (depth0 != null ? depth0.vote_average : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":37}}}) : helper)))\n    + \"</div>\\r\\n</li>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"article-list__item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":40},\"end\":{\"line\":1,\"column\":46}}}) : helper)))\n    + \"\\\">\\r\\n  <img class=\\\"article-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.img_path || (depth0 != null ? depth0.img_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"img_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":34},\"end\":{\"line\":2,\"column\":46}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\">\\r\\n  <div>\\r\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":27},\"end\":{\"line\":4,\"column\":36}}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n  <div class=\\\"inner\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":30},\"end\":{\"line\":6,\"column\":36}}}) : helper)))\n    + \"\\\"></div>\\r\\n</li>\\r\\n\";\n},\"useData\":true});","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org';\r\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\r\n\r\nexport const getArticles = (page = 1) => {\r\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&perPage=2language=en-US&page=${page}&&include_adult=false&total_results=12&total_pages=10`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport const searchArticles = (query, page = 1) => {\r\n  const url = `/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`;\r\n  return axios.get(url);\r\n};\r\n","const scrollToTop = () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\nexport default scrollToTop;\r\n","import scrollToTop from './scrollToTop';\r\nconst scrollTopButton = document.querySelector('.scrollTopButton');\r\nconst { scrollHeight, scrollTop, clientHeight } = document.documentElement;\r\n\r\nconst showButton = () => {\r\n  if (document.documentElement.scrollTop > 140) {\r\n    scrollTopButton.classList.add('show');\r\n  } else {\r\n    scrollTopButton.classList.remove('show');\r\n  }\r\n};\r\nscrollTopButton.addEventListener('click', scrollToTop);\r\nwindow.addEventListener('scroll', showButton);\r\n","const apiImgPath = 'https://image.tmdb.org/t/p/w400/';\r\nconst defaultImage = './images/default.jpg';\r\nconst imgUrl = 'https://i.ytimg.com/vi/VlsQC87i06w/maxresdefault.jpg';\r\nconst mapper = items => {\r\n  return items.map(({ id, backdrop_path, title }) => ({\r\n    id,\r\n    title,\r\n    backdrop_path,\r\n    img_path: backdrop_path ? `${apiImgPath}${backdrop_path}` : imgUrl,\r\n  }));\r\n};\r\nexport default mapper;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org';\r\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\r\n\r\nexport const getArticles = (page = 1) => {\r\n\r\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&language=en-US&page=${page}&&include_adult=false`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport const w = () => null;\r\n\r\nexport const getMovieByID = id => {\r\n  const url = `/3/movie/${id}?api_key=${KEY}&language=en-US`;\r\n  return axios.get(url);\r\n};\r\n","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org';\r\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\r\n\r\nexport const getArticles = (page = 1) => {\r\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&language=en-US&page=${page}&&include_adult=false`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport const getMovieByID = id => {\r\n  const url = `/3/movie/${id}?api_key=9e008f5d338cd1f22f432e50e537417d&language=en-US`;\r\n  return axios.get(url);\r\n};\r\n","import * as API from './server';\r\nimport watchedFilmsMarkup from '../handelbars/watched-page.hbs';\r\nimport '../styles/watched.css';\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify.js';\r\n// import './node_modules/pnotidistfy//PNotifyBrightTheme.css';\r\nimport '../../node_modules/pnotify/dist/PNotifyBrightTheme.css';\r\nimport './inner_page';\r\nimport refs from './mainPage';\r\n\r\nconst list = document.querySelector('#watched_list');\r\n\r\nexport const toggleWatched = event => {\r\n  console.log(event.target);\r\n  console.dir(event.target.textContent);\r\n  if (event.target.classList.contains('added')) {\r\n    upperFnToRemove(event);\r\n    event.target.classList.remove('added');\r\n    event.target.classList.add('video-icon');\r\n    event.target.classList.remove('video-icon-remove');\r\n    event.target.textContent = 'Add to library';\r\n  } else {\r\n    upperFnToAdd(event);\r\n    event.target.classList.add('added');\r\n    event.target.classList.remove('video-icon');\r\n    event.target.classList.add('video-icon-remove');\r\n    event.target.textContent = 'Remove from library';\r\n  }\r\n};\r\n\r\nconst upperFnToAdd = event => {\r\n  const localListName = event.target.dataset.action;\r\n  const filmId = Number(event.target.dataset.id);\r\n\r\n  addToWatched(localListName, filmId);\r\n  notifyAction(localListName);\r\n};\r\n\r\nconst addToWatched = (arrayToWork, filmIdToAdd) => {\r\n  const filmsToWatched = JSON.parse(localStorage.getItem(arrayToWork)) || [];\r\n\r\n  API.getMovieByID(filmIdToAdd).then(({ data }) => {\r\n    if (!filmsToWatched.find(filmTOWatch => filmTOWatch.id === data.id)) {\r\n      filmsToWatched.push(data);\r\n      localStorage.setItem(arrayToWork, JSON.stringify(filmsToWatched));\r\n    }\r\n  });\r\n};\r\n\r\nconst upperFnToRemove = event => {\r\n  const localListName = event.target.dataset.action;\r\n  const filmId = Number(event.target.dataset.id);\r\n\r\n  lowerFnToRemove(localListName, filmId);\r\n};\r\n\r\nconst lowerFnToRemove = (arrayToWork, filmIdToDelete) => {\r\n  const localList = JSON.parse(localStorage.getItem(arrayToWork));\r\n  if (localList.find(film => film.id === filmIdToDelete)) {\r\n    const arrayToLocal = localList.filter(film => film.id !== filmIdToDelete);\r\n    localStorage.setItem(arrayToWork, JSON.stringify(arrayToLocal));\r\n  }\r\n};\r\n\r\nconst createMarkup = array => {\r\n  return array.map(filmItem => watchedFilmsMarkup(filmItem)).join('');\r\n};\r\n\r\n// refs.libraryBtn.addEventListener('click', showWatchedFilms);\r\n\r\nexport const showWatchedFilms = () => {\r\n  refs.listWatch.innerHTML = '';\r\n  refs.filmPage.innerHTML = ' ';\r\n  refs.listArticle.innerHTML = ' ';\r\n  refs.searchInput.classList.add('hidden');\r\n  refs.paginationBox.classList.add('hidden');\r\n  refs.searchBar.classList.add('hidden');\r\n  // refs.navBtns.classList.remove('hidden');\r\n  const filmsArray = JSON.parse(localStorage.getItem('watched-films'));\r\n  if (filmsArray) {\r\n    list.insertAdjacentHTML('beforeend', createMarkup(filmsArray));\r\n  }\r\n};\r\n\r\nexport const notifyAction = libraryName => {\r\n  PNotify.success({\r\n    text: `Added to ${libraryName}`,\r\n    animation: 'fade',\r\n    delay: 2000,\r\n    stack: {\r\n      dir1: 'up',\r\n      dir2: 'left', // zPosition from the top left corner.\r\n      firstpos1: 90,\r\n      firstpos2: 90, // 90px from the top, 90px from the left.\r\n    },\r\n    Mobile: {\r\n      swipeDismiss: true,\r\n      styling: true,\r\n    },\r\n  });\r\n};\r\n","import * as API from './services/server';\r\nimport filmTemplate from './templates/single-film.hbs';\r\nimport refs from './mainPage';\r\nimport { toggleWatched } from './watched';\r\n\r\nimport '../css/styles.css';\r\nimport '../css/film-list.css';\r\n\r\nconst innerPage = document.querySelector('.add-queue');\r\nconst film = document.querySelector('.film');\r\nconst filmList = document.querySelector('.article-list');\r\nconst main = document.querySelector('.main');\r\n\r\nfunction concatGenreNamesBYComa(filmData) {\r\n  filmData.genres = filmData.genres.reduce(\r\n    (genreString, genre, index, array) => {\r\n      const wordSeparator = index === array.length - 1 ? '' : ',';\r\n      return `${genreString} ${genre.name}${wordSeparator}`;\r\n    },\r\n    '',\r\n  );\r\n}\r\n\r\nlet addBtn;\r\n\r\nfunction getFullInfo(event) {\r\n  if (event.target === event.currentTarget) {\r\n    return;\r\n  }\r\n  refs.listArticle.innerHTML = ' ';\r\n  refs.listWatch.innerHTML = ' ';\r\n  // refs.listWatch.style.gridTemplateRows = '0px';\r\n  refs.searchInput.classList.add('hidden');\r\n  refs.paginationBox.classList.add('hidden');\r\n  const filmId = event.target.dataset.id;\r\n  API.getMovieByID(filmId).then(result => {\r\n    const { data } = result;\r\n    const markup = buildMarkup(data);\r\n    insertMarkup(markup);\r\n    addBtn = document.querySelector('[data-action=\"watched-films\"]');\r\n    addBtn.addEventListener('click', toggleWatched);\r\n    // removeBtn = document.querySelector('[data-action=\"del\"]');\r\n    // removeBtn.addEventListener('click', upperFnToAdd);\r\n  });\r\n}\r\nfunction buildMarkup(item) {\r\n  concatGenreNamesBYComa(item);\r\n  return filmTemplate(item);\r\n}\r\nfunction insertMarkup(markup) {\r\n  film.insertAdjacentHTML('beforeend', markup);\r\n}\r\n// filmList.addEventListener('click', getFullInfo);\r\n\r\nexport default getFullInfo;\r\n","import * as API from '../services/server';\r\nimport mainArticleTemplate from '../templates/main-page.hbs';\r\nimport './scrollTop';\r\nimport scrollToTop from './scrollToTop';\r\nimport mapper from './mapper';\r\nimport { debounce } from 'debounce';\r\nimport getFullInfo from './inner_page';\r\nimport { showWatchedFilms } from './watched';\r\n\r\nconst refs = {\r\n  articleList: document.querySelector('.article-list'),\r\n  searchInput: document.querySelector('.searchInput'),\r\n  searchBar: document.querySelector('.searchBar'),\r\n  buttonNext: document.querySelector('.next'),\r\n  buttonPrev: document.querySelector('.prev'),\r\n  paginationBoxInfo: document.querySelector('.pagination-box-info'),\r\n  warningBox: document.querySelector('.warning-wrapper'),\r\n  homeBtn: document.querySelector('[data-action=\"home\"]'),\r\n  libraryBtn: document.querySelector('.js-library'),\r\n  listWatch: document.querySelector('#watched_list'),\r\n  listArticle: document.querySelector('.article-list'),\r\n  filmPage: document.querySelector('#film-page'),\r\n  paginationBox: document.querySelector('.pagination-box'),\r\n  navBtns: document.querySelector('.nav-btns'),\r\n  watcheBtn: document.querySelector('.js-watched'),\r\n  queueBtn: document.querySelector('.js-queue'),\r\n};\r\n\r\nexport default refs;\r\n\r\nrefs.articleList.addEventListener('click', getFullInfo);\r\nrefs.listWatch.addEventListener('click', getFullInfo);\r\nrefs.libraryBtn.addEventListener('click', showWatchedFilms);\r\nrefs.homeBtn.addEventListener('click', fetchArticlesCall);\r\ndocument.querySelector('.logo').addEventListener('click', fetchArticlesCall);\r\nrefs.watcheBtn.addEventListener('click', showWatchedFilms);\r\n\r\nlet page = 1;\r\n\r\nfunction fetchArticlesCall(event) {\r\n  fetchArticles();\r\n}\r\n\r\nconst fetchArticles = (page = 1) => {\r\n  refs.filmPage.innerHTML = '';\r\n  refs.listWatch.innerHTML = '';\r\n  refs.searchInput.classList.remove('hidden');\r\n  refs.paginationBox.classList.remove('hidden');\r\n  refs.navBtns.classList.add('hidden');\r\n  refs.searchBar.classList.remove('hidden');\r\n  refs.paginationBoxInfo.textContent = page;\r\n  page === 1 ? refs.buttonPrev.classList.add('hiddenButton') : null;\r\n  API.getArticles(page)\r\n    .then(({ data }) => {\r\n      createMarkup(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nconst handleFetchSearchedArticles = ({ target }) => {\r\n  const query = target.value;\r\n  if (query) {\r\n    API.searchArticles(query)\r\n      .then(({ data }) => {\r\n        data.results.length ? createMarkup(data) : printWarning();\r\n      })\r\n      .catch(err => console.log(err));\r\n  } else {\r\n    refs.warningBox.classList.remove('warning-wrapper-show');\r\n    fetchArticles();\r\n  }\r\n};\r\n\r\nconst createMarkup = data => {\r\n  refs.warningBox.classList.remove('warning-wrapper-show');\r\n  refs.articleList.innerHTML = '';\r\n  const markup = mapper(data.results).map(article =>\r\n    mainArticleTemplate(article),\r\n  );\r\n  refs.articleList.insertAdjacentHTML('beforeend', markup.join(''));\r\n};\r\n\r\nconst handleChangePage = e => {\r\n  if (e.target.classList.contains('next')) {\r\n    page += 1;\r\n    refs.buttonPrev.classList.remove('hiddenButton');\r\n  } else if (e.target.classList.contains('prev')) {\r\n    page > 1 ? (page -= 1) : null;\r\n  }\r\n  fetchArticles(page);\r\n  refs.paginationBoxInfo.textContent = page;\r\n  e.preventDefault();\r\n  window.scrollTo({\r\n    top: 0,\r\n  });\r\n};\r\n\r\nconst printWarning = () => {\r\n  refs.warningBox.classList.add('warning-wrapper-show');\r\n};\r\n\r\nrefs.searchInput.addEventListener(\r\n  'input',\r\n  debounce(handleFetchSearchedArticles, 500),\r\n);\r\nrefs.buttonNext.addEventListener('click', handleChangePage);\r\nrefs.buttonPrev.addEventListener('click', handleChangePage);\r\nfetchArticles();\r\n","var p = document.createElement('div');\r\np.innerHTML =\r\n  \"<div style='z-index:100000' id='owlreporter-preloader'><div id='loader'></div><div class='loader-section section-left'></div><div class='loader-section section-right'></div></div>\";\r\ndocument.body.insertBefore(p, document.body.firstChild);\r\nfunction pageload() {\r\n  var e = new Date().getTime(),\r\n    t = (e - before) / 1e3,\r\n    n = document.getElementById('loadingtime');\r\n  n.innerHTML = 'Page load: ' + t + ' seconds.';\r\n}\r\n(window.onload = function() {\r\n  pageload();\r\n}),\r\n  setTimeout(function() {\r\n    document.body.className += ' loaded';\r\n  }, 1500),\r\n  document.addEventListener\r\n    ? document.addEventListener(\r\n        'DOMContentLoaded',\r\n        function() {\r\n          document.removeEventListener(\r\n            'DOMContentLoaded',\r\n            arguments.callee,\r\n            !1,\r\n          ),\r\n            domReady();\r\n        },\r\n        !1,\r\n      )\r\n    : document.attachEvent &&\r\n      document.attachEvent('onreadystatechange', function() {\r\n        'complete' === document.readyState &&\r\n          (document.detachEvent('onreadystatechange', arguments.callee),\r\n          domReady());\r\n      });\r\n"],"sourceRoot":""}